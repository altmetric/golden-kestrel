(function(){window._altmetric||(window._altmetric={}),window._altmetric["export"]=function(e,t){return window._altmetric[e]=t},window._altmetric.exports=function(e){var t,n,r;r=[];for(t in e)n=e[t],r.push(window._altmetric[t]=n);return r}}).call(this);var Handlebars={};(function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,r="[object Function]",i="[object Object]";e.registerHelper=function(t,r,s){if(n.call(t)===i){if(s||r)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else s&&(r.not=s),this.helpers[t]=r},e.registerPartial=function(t,r){n.call(t)===i?e.Utils.extend(this.partials,t):this.partials[t]=r},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var s=i.inverse||function(){},o=i.fn,u=n.call(t);return u===r&&(t=t.call(this)),t===!0?o(this):t===!1||t==null?s(this):u==="[object Array]"?t.length>0?e.helpers.each(t,i):s(this):o(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var r=e.logger.methodMap[t];typeof console!="undefined"&&console[r]&&console[r].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,i){var s=i.fn,o=i.inverse,u=0,a="",f,l=n.call(t);l===r&&(t=t.call(this)),i.data&&(f=e.createFrame(i.data));if(t&&typeof t=="object")if(t instanceof Array)for(var c=t.length;u<c;u++)f&&(f.index=u),a+=s(t[u],{data:f});else for(var h in t)t.hasOwnProperty(h)&&(f&&(f.key=h),a+=s(t[h],{data:f}),u++);return u===0&&(a=o(this)),a}),e.registerHelper("if",function(t,i){var s=n.call(t);return s===r&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,i){var s=n.call(t);s===r&&(t=t.call(this));if(!e.Utils.isEmpty(t))return i.fn(t)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)});var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<s.length;n++)this[s[n]]=t[s[n]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,a=/[&<>"'`]/,f=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():t==null||t===!1?"":(t=t.toString(),a.test(t)?t.replace(u,f):t)},isEmpty:function(e){return!e&&e!==0?!0:n.call(e)==="[object Array]"&&e.length===0?!0:!1}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,r){var i=this.programs[t];return r?i=e.VM.program(t,n,r):i||(i=this.programs[t]=e.VM.program(t,n)),i},merge:function(t,n){var r=t||n;return t&&n&&(r={},e.Utils.extend(r,n),e.Utils.extend(r,t)),r},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(r,i){i=i||{};var s=t.call(n,e,r,i.helpers,i.partials,i.data),o=n.compilerInfo||[],u=o[0]||1,a=e.COMPILER_REVISION;if(u!==a){if(u<a){var f=e.REVISION_CHANGES[a],l=e.REVISION_CHANGES[u];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f+") or downgrade your runtime to an older version ("+l+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return s}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},program:function(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r},noop:function(){return""},invokePartial:function(n,r,i,s,o,u){var a={helpers:s,partials:o,data:u};if(n===t)throw new e.Exception("The partial "+r+" could not be found");if(n instanceof Function)return n(i,a);if(!e.compile)throw new e.Exception("The partial "+r+" could not be compiled when running in runtime-only mode");return o[r]=e.compile(n,{data:u!==t}),o[r](i,a)}},e.template=e.VM.template})(Handlebars),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():t[e]=n()}("qwery",_altmetric,function(){function L(){this.c={}}function D(e){return A.g(e)||A.s(e,"(^|\\s+)"+e+"(\\s+|$)",1)}function P(e,t){var n=0,r=e.length;for(;n<r;n++)t(e[n])}function H(e){for(var t=[],n=0,r=e.length;n<r;++n)$(e[n])?t=t.concat(e[n]):t[t.length]=e[n];return t}function B(e){var t=0,n=e.length,r=[];for(;t<n;t++)r[t]=e[t];return r}function j(e){while(e=e.previousSibling)if(e[u]==1)break;return e}function F(e){return e.match(C)}function I(e,t,n,r,i,s,a,c,h,p,d){var v,m,g,y,b;if(this[u]!==1)return!1;if(t&&t!=="*"&&this[o]&&this[o].toLowerCase()!==t)return!1;if(n&&(m=n.match(f))&&m[1]!==this.id)return!1;if(n&&(b=n.match(l)))for(v=b.length;v--;)if(!D(b[v].slice(1)).test(this.className))return!1;if(h&&Q.pseudos[h]&&!Q.pseudos[h](this,d))return!1;if(r&&!a){y=this.attributes;for(g in y)if(Object.prototype.hasOwnProperty.call(y,g)&&(y[g].name||g)==i)return this}return r&&!R(s,Z(this,i)||"",a)?!1:this}function q(e){return O.g(e)||O.s(e,e.replace(b,"\\$1"))}function R(e,t,n){switch(e){case"=":return t==n;case"^=":return t.match(M.g("^="+n)||M.s("^="+n,"^"+q(n),1));case"$=":return t.match(M.g("$="+n)||M.s("$="+n,q(n)+"$",1));case"*=":return t.match(M.g(n)||M.s(n,q(n),1));case"~=":return t.match(M.g("~="+n)||M.s("~="+n,"(?:^|\\s+)"+q(n)+"(?:\\s+|$)",1));case"|=":return t.match(M.g("|="+n)||M.s("|="+n,"^"+q(n)+"(-|$)",1))}return 0}function U(e,t){var n=[],i=[],s,a,f,l,h,p,d,v,m=t,g=_.g(e)||_.s(e,e.split(N)),y=e.match(T);if(!g.length)return n;l=(g=g.slice(0)).pop(),g.length&&(f=g[g.length-1].match(c))&&(m=K(t,f[1]));if(!m)return n;d=F(l),p=m!==t&&m[u]!==9&&y&&/^[+~]$/.test(y[y.length-1])?function(e){while(m=m.nextSibling)m[u]==1&&(d[1]?d[1]==m[o].toLowerCase():1)&&(e[e.length]=m);return e}([]):m[r](d[1]||"*");for(s=0,a=p.length;s<a;s++)if(v=I.apply(p[s],d))n[n.length]=v;return g.length?(P(n,function(e){W(e,g,y)&&(i[i.length]=e)}),i):n}function z(e,t,n){if(X(t))return e==t;if($(t))return!!~H(t).indexOf(e);var r=t.split(","),i,s;while(t=r.pop()){i=_.g(t)||_.s(t,t.split(N)),s=t.match(T),i=i.slice(0);if(I.apply(e,F(i.pop()))&&(!i.length||W(e,i,s,n)))return!0}return!1}function W(e,t,n,r){function s(e,r,o){while(o=k[n[r]](o,e))if(X(o)&&I.apply(o,F(t[r]))){if(!r)return o;if(i=s(o,r-1,o))return i}}var i;return(i=s(e,t.length-1,e))&&(!r||Y(i,r))}function X(e,t){return e&&typeof e=="object"&&(t=e[u])&&(t==1||t==9)}function V(e){var t=[],n,r;e:for(n=0;n<e.length;++n){for(r=0;r<t.length;++r)if(t[r]==e[n])continue e;t[t.length]=e[n]}return t}function $(e){return typeof e=="object"&&isFinite(e.length)}function J(t){return t?typeof t=="string"?Q(t)[0]:!t[u]&&$(t)?t[0]:t:e}function K(e,t,n){return e[u]===9?e.getElementById(t):e.ownerDocument&&((n=e.ownerDocument.getElementById(t))&&Y(n,e)&&n||!Y(e,e.ownerDocument)&&a('[id="'+t+'"]',e)[0])}function Q(e,t){var n,i,s=J(t);if(!s||!e)return[];if(e===window||X(e))return!t||e!==window&&X(s)&&Y(e,s)?[e]:[];if(e&&$(e))return H(e);if(n=e.match(x)){if(n[1])return(i=K(s,n[1]))?[i]:[];if(n[2])return B(s[r](n[2]))}return a(e,s)}function G(e,t){return function(n){var r,i;if(v.test(n)){e[u]!==9&&((i=r=e.getAttribute("id"))||e.setAttribute("id",i="__qwerymeupscotty"),n='[id="'+i+'"]'+n,t(e.parentNode||e,n,!0),r||e.removeAttribute("id"));return}n.length&&t(e,n,!1)}}var e=document,t=e.documentElement,n="getElementsByClassName",r="getElementsByTagName",i="querySelectorAll",s="useNativeQSA",o="tagName",u="nodeType",a,f=/#([\w\-]+)/,l=/\.[\w\-]+/g,c=/^#([\w\-]+)$/,h=/^\.([\w\-]+)$/,p=/^([\w\-]+)$/,d=/^([\w]+)?\.([\w\-]+)$/,v=/(^|,)\s*[>~+]/,m=/^\s+|\s*([,\s\+\~>]|$)\s*/g,g=/[\s\>\+\~]/,y=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,b=/([.*+?\^=!:${}()|\[\]\/\\])/g,w=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,E=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,S=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,x=new RegExp(c.source+"|"+p.source+"|"+h.source),T=new RegExp("("+g.source+")"+y.source,"g"),N=new RegExp(g.source+y.source),C=new RegExp(w.source+"("+E.source+")?"+"("+S.source+")?"),k={" ":function(e){return e&&e!==t&&e.parentNode},">":function(e,t){return e&&e.parentNode==t.parentNode&&e.parentNode},"~":function(e){return e&&e.previousSibling},"+":function(e,t,n,r){return e?(n=j(e))&&(r=j(t))&&n==r&&n:!1}};L.prototype={g:function(e){return this.c[e]||undefined},s:function(e,t,n){return t=n?new RegExp(t):t,this.c[e]=t}};var A=new L,O=new L,M=new L,_=new L,Y="compareDocumentPosition"in t?function(e,t){return(t.compareDocumentPosition(e)&16)==16}:"contains"in t?function(e,n){return n=n[u]===9||n==window?t:n,n!==e&&n.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0},Z=function(){var t=e.createElement("p");return(t.innerHTML='<a href="#x">x</a>')&&t.firstChild.getAttribute("href")!="#x"?function(e,t){return t==="class"?e.className:t==="href"||t==="src"?e.getAttribute(t,2):e.getAttribute(t)}:function(e,t){return e.getAttribute(t)}}(),et=!!e[n],tt=e.querySelector&&e[i],nt=function(e,t){var n=[],r,s;try{return t[u]===9||!v.test(e)?B(t[i](e)):(P(r=e.split(","),G(t,function(e,t){s=e[i](t),s.length==1?n[n.length]=s.item(0):s.length&&(n=n.concat(B(s)))})),r.length>1&&n.length>1?V(n):n)}catch(o){}return rt(e,t)},rt=function(e,t){var n=[],i,s,o,a,f,l;e=e.replace(m,"$1");if(s=e.match(d)){f=D(s[2]),i=t[r](s[1]||"*");for(o=0,a=i.length;o<a;o++)f.test(i[o].className)&&(n[n.length]=i[o]);return n}return P(l=e.split(","),G(t,function(e,r,i){f=U(r,e);for(o=0,a=f.length;o<a;o++)if(e[u]===9||i||Y(f[o],t))n[n.length]=f[o]})),l.length>1&&n.length>1?V(n):n},it=function(e){typeof e[s]!="undefined"&&(a=e[s]?tt?nt:rt:rt)};return it({useNativeQSA:!0}),Q.configure=it,Q.uniq=V,Q.is=z,Q.pseudos={},Q}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():t[e]=n()}("bean",_altmetric,function(e,t){e=e||"bean",t=t||this;var n=window,r=t[e],i=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,o="addEventListener",u="removeEventListener",a=document||{},f=a.documentElement||{},l=f[o],c=l?o:"attachEvent",h={},p=Array.prototype.slice,d=function(e,t){return e.split(t||" ")},v=function(e){return typeof e=="string"},m=function(e){return typeof e=="function"},g="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinputreadystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",b=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},d(g+(l?y:""))),w=function(){var e="compareDocumentPosition"in f?function(e,t){return t.compareDocumentPosition&&(t.compareDocumentPosition(e)&16)===16}:"contains"in f?function(e,t){return t=t.nodeType===9||t===window?f:t,t!==e&&t.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&n.prefix!=="xul"&&!/document/.test(this.toString())&&!e(n,this):n==null};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var e=d("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(d("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),r=t.concat(d("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(d("char charCode key keyCode keyIdentifier keyLocation location")),s=e.concat(d("data")),o=e.concat(d("touches targetTouches changedTouches scale rotation")),u=e.concat(d("data origin source")),l=e.concat(d("state")),c=/over|out/,h=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){n.rightClick=e.which===3||e.button===2,n.pos={x:0,y:0};if(e.pageX||e.pageY)n.clientX=e.pageX,n.clientY=e.pageY;else if(e.clientX||e.clientY)n.clientX=e.clientX+a.body.scrollLeft+f.scrollLeft,n.clientY=e.clientY+a.body.scrollTop+f.scrollTop;return c.test(r)&&(n.relatedTarget=e.relatedTarget||e[(r=="mouseover"?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return r}},{reg:/^text/i,fix:function(){return s}},{reg:/^touch|^gesture/i,fix:function(){return o}},{reg:/^message$/i,fix:function(){return u}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},v=function(e,t,r){if(!arguments.length)return;e=e||((t.ownerDocument||t.document||t).parentWindow||n).event,this.originalEvent=e,this.isNative=r,this.isBean=!0;if(!e)return;var i=e.type,s=e.target||e.srcElement,o,u,a,f,l;this.target=s&&s.nodeType===3?s.parentNode:s;if(r){l=p[i];if(!l)for(o=0,u=h.length;o<u;o++)if(h[o].reg.test(i)){p[i]=l=h[o].fix;break}f=l(e,this,i);for(o=f.length;o--;)!((a=f[o])in this)&&a in e&&(this[a]=e[a])}};return v.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},v.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},v.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},v.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},v.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},v.prototype.clone=function(e){var t=new v(this,this.element,this.isNative);return t.currentTarget=e,t},v}(),S=function(e,t){return!l&&!t&&(e===a||e===n)?f:e},x=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?p.call(i,n?0:1).concat(r):i)},s=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},o=n?function(e){var t=s(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),i(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(s(e))),i(e,arguments)};return o.__beanDel=t.__beanDel,o},t=function(t,n,r,i,s,o,u){var a=w[n],f;n=="unload"&&(r=A(O,t,n,r,i)),a&&(a.condition&&(r=e(t,r,a.condition,o)),n=a.base||n),this.isNative=f=b[n]&&!!t[c],this.customType=!l&&!f&&n,this.element=t,this.type=n,this.original=i,this.namespaces=s,this.eventType=l||f?n:"propertychange",this.target=S(t,f),this[c]=!!this.target[c],this.root=u,this.handler=e(t,r,null,o)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return this.element===e&&(!t||this.original===t)&&(!n||this.handler===n)},t}(),T=function(){var e={},t=function(n,r,i,s,o,u){var a=o?"r":"$";if(!r||r=="*")for(var f in e)f.charAt(0)==a&&t(n,f.substr(1),i,s,o,u);else{var l=0,c,h=e[a+r],p=n=="*";if(!h)return;for(c=h.length;l<c;l++)if((p||h[l].matches(n,i,s))&&!u(h[l],h,l,r))return}},n=function(t,n,r,i){var s,o=e[(i?"r":"$")+n];if(o)for(s=o.length;s--;)if(!o[s].root&&o[s].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var s=[];return t(e,n,r,null,i,function(e){return s.push(e)}),s},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},s=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,n.length===0&&delete e[(t.root?"r":"$")+t.type],!1})},o=function(){var t,n=[];for(t in e)t.charAt(0)=="$"&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:s,entries:o}}(),N,C=function(e){arguments.length?N=e:N=a.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},k=function(e,t){if(!l&&t&&e&&e.propertyName!="_on"+t)return;var n=T.get(this,t||e.type,null,!1),r=n.length,i=0;e=new E(e,this,!0),t&&(e.type=t);for(;i<r&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)},L=l?function(e,t,n){e[n?o:u](t,k,!1)}:function(e,t,n,r){var i;n?(T.put(i=new x(e,r||t,function(t){k.call(e,t,r)},k,null,null,!0)),r&&e["_on"+r]==null&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=T.get(e,r||t,k,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),T.del(i)))},A=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},O=function(e,t,n,r){var i=t&&t.replace(s,""),o=T.get(e,i,null,!1),u={},a,f;for(a=0,f=o.length;a<f;a++)(!n||o[a].original===n)&&o[a].inNamespaces(r)&&(T.del(o[a]),!u[o[a].eventType]&&o[a][c]&&(u[o[a].eventType]={t:o[a].eventType,c:o[a].type}));for(a in u)T.has(e,u[a].t,null,!1)||L(e,u[a].t,!1,u[a].c)},M=function(e,t){var n=function(t,n){var r,i=v(e)?N(e,n):e;for(;t&&t!==n;t=t.parentNode)for(r=i.length;r--;)if(i[r]===t)return t},r=function(e){var r=n(e.target,this);r&&t.apply(r,arguments)};return r.__beanDel={ft:n,selector:e},r},_=l?function(e,t,r){var i=a.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,n,1),r.dispatchEvent(i)}:function(e,t,n){n=S(n,e),e?n.fireEvent("on"+t,a.createEventObject()):n["_on"+t]++},D=function(e,t,n){var r=v(t),o,u,a,f;if(r&&t.indexOf(" ")>0){t=d(t);for(f=t.length;f--;)D(e,t[f],n);return e}u=r&&t.replace(s,""),u&&w[u]&&(u=w[u].base);if(!t||r){if(a=r&&t.replace(i,""))a=d(a,".");O(e,u,n,a)}else if(m(t))O(e,null,t);else for(o in t)t.hasOwnProperty(o)&&D(e,o,t[o]);return e},P=function(e,t,n,r){var o,u,a,f,l,v,g;if(n===undefined&&typeof t=="object"){for(u in t)t.hasOwnProperty(u)&&P.call(this,e,u,t[u]);return}m(n)?(l=p.call(arguments,3),r=o=n):(o=r,l=p.call(arguments,4),r=M(n,o,N)),a=d(t),this===h&&(r=A(D,e,t,r,o));for(f=a.length;f--;)g=T.put(v=new x(e,a[f].replace(s,""),r,o,d(a[f].replace(i,""),"."),l,!1)),v[c]&&g&&L(e,v.eventType,!0,v.customType);return e},H=function(e,t,n,r){return P.apply(null,v(n)?[e,n,t,r].concat(arguments.length>3?p.call(arguments,5):[]):p.call(arguments))},B=function(){return P.apply(h,arguments)},j=function(e,t,n){var r=d(t),o,u,a,f,l;for(o=r.length;o--;){t=r[o].replace(s,"");if(f=r[o].replace(i,""))f=d(f,".");if(!f&&!n&&e[c])_(b[t],t,e);else{l=T.get(e,t,null,!1),n=[!1].concat(n);for(u=0,a=l.length;u<a;u++)l[u].inNamespaces(f)&&l[u].handler.apply(e,n)}}return e},F=function(e,t,n){var r=T.get(t,n,null,!1),i=r.length,s=0,o,u;for(;s<i;s++)r[s].original&&(o=[e,r[s].type],(u=r[s].handler.__beanDel)&&o.push(u.selector),o.push(r[s].original),P.apply(null,o));return e},I={on:P,add:H,one:B,off:D,remove:D,clone:F,fire:j,Event:E,setSelectorEngine:C,noConflict:function(){return t[e]=r,this}};if(n.attachEvent){var q=function(){var e,t=T.entries();for(e in t)t[e].type&&t[e].type!=="unload"&&D(t[e].element,t[e].type);n.detachEvent("onunload",q),n.CollectGarbage&&n.CollectGarbage()};n.attachEvent("onunload",q)}return C(),I}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():t[e]=n()}("bonzo",_altmetric,function(){function D(e){return e&&e.nodeName&&(e.nodeType==1||e.nodeType==11)}function P(e,t,n){var r,i,s;if(typeof e=="string")return et.create(e);D(e)&&(e=[e]);if(n){s=[];for(r=0,i=e.length;r<i;r++)s[r]=Q(t,e[r]);return s}return e}function H(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function B(e,t,n,r){var i,s=0,o=e.length;for(;s<o;s++)i=r?e.length-s-1:s,t.call(n||e[i],e[i],i,e);return e}function j(e,t,n){for(var r=0,i=e.length;r<i;r++)D(e[r])&&(j(e[r].childNodes,t,n),t.call(n||e[r],e[r],r,e));return e}function F(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function I(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function q(e){e[x]("data-node-uid")||e[S]("data-node-uid",++y);var t=e[x]("data-node-uid");return g[t]||(g[t]={})}function R(e){var t=e[x]("data-node-uid");t&&delete g[t]}function U(e){var t;try{return e===null||e===undefined?undefined:e==="true"?!0:e==="false"?!1:e==="null"?null:(t=parseFloat(e))==e?t:e}catch(n){}return undefined}function z(e,t,n){for(var r=0,i=e.length;r<i;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function W(e){return e=="transform"&&(e=N.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=N.transform+"Origin")||e=="float"&&(e=N.cssFloat),e?F(e):null}function X(e,t,n,r){var i=0,s=t||this,o=[],u=O&&typeof e=="string"&&e.charAt(0)!="<"?O(e):e;return B(P(u),function(e,t){B(s,function(r){n(e,o[i++]=t>0?Q(s,r):r)},null,r)},this,r),s.length=i,B(o,function(e){s[--i]=e},null,!r),s}function V(e,t,n){var r=et(e),i=r.css("position"),s=r.offset(),o="relative",u=i==o,a=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];i=="static"&&(r.css("position",o),i=o),isNaN(a[0])&&(a[0]=u?0:e.offsetLeft),isNaN(a[1])&&(a[1]=u?0:e.offsetTop),t!=null&&(e.style.left=t-s.left+a[0]+E),n!=null&&(e.style.top=n-s.top+a[1]+E)}function $(e,t){return typeof t=="function"?t(e):t}function J(t,n,r){var i=this[0];return i?t==null&&n==null?(G(i)?Y():{x:i.scrollLeft,y:i.scrollTop})[r]:(G(i)?e.scrollTo(t,n):(t!=null&&(i.scrollLeft=t),n!=null&&(i.scrollTop=n)),this):this}function K(e){this.length=0;if(e){e=typeof e!="string"&&!e.nodeType&&typeof e.length!="undefined"?e:[e],this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function Q(e,t){var n=t.cloneNode(!0),r,i,s;if(e.$&&typeof e.cloneEvents=="function"){e.$(n).cloneEvents(t),r=e.$(n).find("*"),i=e.$(t).find("*");for(s=0;s<i.length;s++)e.$(r[s]).cloneEvents(i[s])}return n}function G(t){return t===e||/^(?:body|html)$/i.test(t.tagName)}function Y(){return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop}}function Z(e){var t=document.createElement("script"),n=e.match(o);return t.src=n[1],t}function et(e){return new K(e)}var e=window,t=e.document,n=t.documentElement,r="parentNode",i=/^(checked|value|selected|disabled)$/i,s=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,o=/\s*<script +src=['"]([^'"]+)['"]>/,u=["<table>","</table>",1],a=["<table><tbody><tr>","</tr></tbody></table>",3],f=["<select>","</select>",1],l=["_","",0,1],c={thead:u,tbody:u,tfoot:u,colgroup:u,caption:u,tr:["<table><tbody>","</tbody></table>",2],th:a,td:a,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:f,optgroup:f,script:l,style:l,link:l,param:l,base:l},h=/^(checked|selected|disabled)$/,p=/msie/i.test(navigator.userAgent),d,v,m,g={},y=0,b=/^-?[\d\.]+$/,w=/^data-(.+)$/,E="px",S="setAttribute",x="getAttribute",T="getElementsByTagName",N=function(){var e=t.createElement("p");return e.innerHTML='<a href="#x">x</a><table style="float:left;"></table>',{hrefExtended:e[T]("a")[0][x]("href")!="#x",autoTbody:e[T]("tbody").length!==0,computedStyle:t.defaultView&&t.defaultView.getComputedStyle,cssFloat:e[T]("table")[0].style.styleFloat?"styleFloat":"cssFloat",transform:function(){var t=["transform","webkitTransform","MozTransform","OTransform","msTransform"],n;for(n=0;n<t.length;n++)if(t[n]in e.style)return t[n]}(),classList:"classList"in e,opasity:function(){return typeof t.createElement("a").style.opacity!="undefined"}()}}(),C=/(^\s*|\s*$)/g,k=/\s+/,L=String.prototype.toString,A={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},O=t.querySelectorAll&&function(e){return t.querySelectorAll(e)},M=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(C,"")},_=N.computedStyle?function(e,n){var r=null,i=t.defaultView.getComputedStyle(e,"");return i&&(r=i[n]),e.style[n]||r}:!p||!n.currentStyle?function(e,t){return e.style[t]}:function(e,t){var n,r;if(t=="opacity"&&!N.opasity){n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{n=e.filters("alpha").opacity}catch(s){}}return n/100}return r=e.currentStyle?e.currentStyle[t]:null,e.style[t]||r};return N.classList?(d=function(e,t){return e.classList.contains(t)},v=function(e,t){e.classList.add(t)},m=function(e,t){e.classList.remove(t)}):(d=function(e,t){return H(t).test(e.className)},v=function(e,t){e.className=M(e.className+" "+t)},m=function(e,t){e.className=M(e.className.replace(H(t)," "))}),K.prototype={get:function(e){return this[e]||null},each:function(e,t){return B(this,e,t)},deepEach:function(e,t){return j(this,e,t)},map:function(e,t){var n=[],r,i;for(i=0;i<this.length;i++)r=e.call(this,this[i],i),t?t(r)&&n.push(r):n.push(r);return n},html:function(e,t){var r=t?n.textContent===undefined?"innerText":"textContent":"innerHTML",i=this,o=function(t,n){B(P(e,i,n),function(e){t.appendChild(e)})},u=function(n,i){try{if(t||typeof e=="string"&&!s.test(n.tagName))return n[r]=e}catch(u){}o(n,i)};return typeof e!="undefined"?this.empty().each(u):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(n,r){B(P(e,t,r),function(e){n.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(n,r){var i=n.firstChild;B(P(e,t,r),function(e){n.insertBefore(e,i)})})},appendTo:function(e,t){return X.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return X.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(n,i){B(P(e,t,i),function(e){n[r].insertBefore(e,n)})})},after:function(e){var t=this;return this.each(function(n,i){B(P(e,t,i),function(e){n[r].insertBefore(e,n.nextSibling)},null,1)})},insertBefore:function(e,t){return X.call(this,e,t,function(e,t){e[r].insertBefore(t,e)})},insertAfter:function(e,t){return X.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[r].insertBefore(t,n):e[r].appendChild(t)},1)},replaceWith:function(e){return et(P(e)).insertAfter(this),this.remove()},clone:function(e){var t=[],n,r;for(r=0,n=this.length;r<n;r++)t[r]=Q(e||this,this[r]);return et(t)},addClass:function(e){return e=L.call(e).split(k),this.each(function(t){B(e,function(e){e&&!d(t,$(t,e))&&v(t,$(t,e))})})},removeClass:function(e){return e=L.call(e).split(k),this.each(function(t){B(e,function(e){e&&d(t,$(t,e))&&m(t,$(t,e))})})},hasClass:function(e){return e=L.call(e).split(k),z(this,function(t){return z(e,function(e){return e&&d(t,e)})})},toggleClass:function(e,t){return e=L.call(e).split(k),this.each(function(n){B(e,function(e){e&&(typeof t!="undefined"?t?!d(n,e)&&v(n,e):m(n,e):d(n,e)?m(n,e):v(n,e))})})},show:function(e){return e=typeof e=="string"?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t=typeof t=="string"?t:"",typeof e!="function"&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return et(this.length?this[0]:[])},last:function(){return et(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(r)},related:function(e){return et(this.map(function(t){t=t[e];while(t&&t.nodeType!==1)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(n,r){function o(e,t,n){for(var r in s)if(s.hasOwnProperty(r)){n=s[r],(t=W(r))&&b.test(n)&&!(t in A)&&(n+=E);try{e.style[t]=$(e,n)}catch(i){}}}var i,s=n;return r===undefined&&typeof n=="string"?(r=this[0],r?r===t||r===e?(i=r===t?et.doc():et.viewport(),n=="width"?i.width:n=="height"?i.height:""):(n=W(n))?_(r,n):null:null):(typeof n=="string"&&(s={},s[n]=r),p&&s.opacity&&(s.filter="alpha(opacity="+s.opacity*100+")",s.zoom=n.zoom||1,delete s.opacity),this.each(o))},offset:function(e,n){if(!e||typeof e!="object"||typeof e.top!="number"&&typeof e.left!="number"){if(typeof e=="number"||typeof n=="number")return this.each(function(t){V(t,e,n)});if(!this[0])return{top:0,left:0,height:0,width:0};var r=this[0],i=r.ownerDocument.documentElement,s=r.getBoundingClientRect(),o=Y(),u=r.offsetWidth,a=r.offsetHeight,f=s.top+o.y-Math.max(0,i&&i.clientTop,t.body.clientTop),l=s.left+o.x-Math.max(0,i&&i.clientLeft,t.body.clientLeft);return{top:f,left:l,height:a,width:u}}return this.each(function(t){V(t,e.left,e.top)})},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=e.nodeType==9&&e.documentElement,n=!t&&!!e.style&&!e.offsetWidth&&!e.offsetHeight?function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this):null,r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n=this[0],r;if(typeof e=="string"||e instanceof String)return typeof t=="undefined"?n?i.test(e)?h.test(e)&&typeof n[e]=="string"?!0:n[e]:e!="href"&&e!="src"||!N.hrefExtended?n[x](e):n[x](e,2):null:this.each(function(n){i.test(e)?n[e]=$(n,t):n[S](e,$(n,t))});for(r in e)e.hasOwnProperty(r)&&this.attr(r,e[r]);return this},removeAttr:function(e){return this.each(function(t){h.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return typeof e=="string"?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n=this[0],r,i;return typeof t=="undefined"?n?(r=q(n),typeof e=="undefined"?(B(n.attributes,function(e){(i=(""+e.name).match(w))&&(r[F(i[1])]=U(e.value))}),r):(typeof r[e]=="undefined"&&(r[e]=U(this.attr("data-"+I(e)))),r[e])):null:this.each(function(n){q(n)[e]=t})},remove:function(){return this.deepEach(R),this.detach()},empty:function(){return this.each(function(e){j(e.childNodes,R);while(e.firstChild)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[r]&&e[r].removeChild(e)})},scrollTop:function(e){return J.call(this,null,e,"y")},scrollLeft:function(e){return J.call(this,e,null,"x")}},et.setQueryEngine=function(e){O=e,delete et.setQueryEngine},et.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||K.prototype)[n]=e[n])},et.create=function(e){return typeof e=="string"&&e!==""?function(){if(o.test(e))return[Z(e)];var n=e.match(/^\s*<([^\s>]+)/),i=t.createElement("div"),s=[],u=n?c[n[1].toLowerCase()]:null,a=u?u[2]+1:1,f=u&&u[3],l=r,h=N.autoTbody&&u&&u[0]=="<table>"&&!/<tbody/i.test(e);i.innerHTML=u?u[0]+e+u[1]:e;while(a--)i=i.firstChild;f&&i&&i.nodeType!==1&&(i=i.nextSibling);do(!n||i.nodeType==1)&&(!h||i.tagName&&i.tagName!="TBODY")&&s.push(i);while(i=i.nextSibling);return B(s,function(e){e[l]&&e[l].removeChild(e)}),s}():D(e)?[e.cloneNode(!0)]:[]},et.doc=function(){var e=et.viewport();return{width:Math.max(t.body.scrollWidth,n.scrollWidth,e.width),height:Math.max(t.body.scrollHeight,n.scrollHeight,e.height)}},et.firstChild=function(e){for(var t=e.childNodes,n=0,r=t&&t.length||0,i;n<r;n++)t[n].nodeType===1&&(i=t[r=n]);return i},et.viewport=function(){return{width:p?n.clientWidth:self.innerWidth,height:p?n.clientHeight:self.innerHeight}},et.isAncestor="compareDocumentPosition"in n?function(e,t){return(e.compareDocumentPosition
(t)&16)==16}:"contains"in n?function(e,t){return e!==t&&e.contains(t)}:function(e,t){while(t=t[r])if(t===e)return!0;return!1},et}),!function(e,t){typeof module!="undefined"&&module.exports?module.exports.browser=t():_altmetric[e]=t()}("bowser",function(){function g(){return n?{name:"Internet Explorer",msie:t,version:e.match(/(msie |rv:)(\d+(\.\d+)?)/i)[2]}:l?{name:"Opera",opera:t,version:e.match(d)?e.match(d)[1]:e.match(/opr\/(\d+(\.\d+)?)/i)[1]}:r?{name:"Chrome",webkit:t,chrome:t,version:e.match(/chrome\/(\d+(\.\d+)?)/i)[1]}:i?{name:"PhantomJS",webkit:t,phantom:t,version:e.match(/phantomjs\/(\d+(\.\d+)+)/i)[1]}:a?{name:"TouchPad",webkit:t,touchpad:t,version:e.match(/touchpad\/(\d+(\.\d+)?)/i)[1]}:o||u?(m={name:o?"iPhone":"iPad",webkit:t,mobile:t,ios:t,iphone:o,ipad:u},d.test(e)&&(m.version=e.match(d)[1]),m):f?{name:"Android",webkit:t,android:t,mobile:t,version:(e.match(d)||e.match(v))[1]}:s?{name:"Safari",webkit:t,safari:t,version:e.match(d)[1]}:h?(m={name:"Gecko",gecko:t,mozilla:t,version:e.match(v)[1]},c&&(m.name="Firefox",m.firefox=t),m):p?{name:"SeaMonkey",seamonkey:t,version:e.match(/seamonkey\/(\d+(\.\d+)?)/i)[1]}:{}}var e=navigator.userAgent,t=!0,n=/(msie|trident)/i.test(e),r=/chrome/i.test(e),i=/phantom/i.test(e),s=/safari/i.test(e)&&!r&&!i,o=/iphone/i.test(e),u=/ipad/i.test(e),a=/touchpad/i.test(e),f=/android/i.test(e),l=/opera/i.test(e)||/opr/i.test(e),c=/firefox/i.test(e),h=/gecko\//i.test(e),p=/seamonkey\//i.test(e),d=/version\/(\d+(\.\d+)?)/i,v=/firefox\/(\d+(\.\d+)?)/i,m,y=g();return y.msie&&y.version>=8||y.chrome&&y.version>=10||y.firefox&&y.version>=4||y.safari&&y.version>=5||y.opera&&y.version>=10?y.a=t:y.msie&&y.version<8||y.chrome&&y.version<10||y.firefox&&y.version<4||y.safari&&y.version<5||y.opera&&y.version<10?y.c=t:y.x=t,y}),function(){var e,t,n,r=[].slice;t=function(){var e;e=1<=arguments.length?r.call(arguments,0):[];if(typeof console!="undefined"&&console!==null&&console.error!=null)try{return console.error.apply(console,e)}catch(t){return console.error(Array.prototype.slice.call(arguments))}},n=function(){var e;e=1<=arguments.length?r.call(arguments,0):[]},e=function(){var e;e=1<=arguments.length?r.call(arguments,0):[]},_altmetric.exports({log:n,errorLog:t,assert:e})}.call(this),function(){var e,t,n,r,i;n=function(e,t,n){var r,i,s;if(e===null||e===undefined)throw new TypeError("Object is null or undefined");i=0,s=e.length>>0,r=void 0;if(typeof t!="function")throw new TypeError("First argument is not callable");if(arguments.length<3){if(s===0)throw new TypeError("Array length is 0 and no second argument");r=e[0],i=1}else r=n;while(i<s)i in e&&(r=t.call(undefined,r,e[i],i,e),++i);return r},r=function(e){return n(e,function(e,t){return e[t[0]]=t[1],e},{})},t=function(e){if(Array.prototype.first!=null)return e.first();if(e.length>0)return e[0]},i=function(e){var t,n,r,i,s,o;if(Array.prototype.unique!=null)return e.unique();n={};for(t=i=0,s=e.length;0<=s?i<=s:i>=s;t=0<=s?++i:--i)n[e[t]]=e[t];o=[];for(t in n)r=n[t],t!=="undefined"&&o.push(r);return o},e=function(e,t){var n,r,i,s;if(Array.prototype.filter!=null)return e.filter(t);s=[];for(r=0,i=e.length;r<i;r++)n=e[r],t(n)&&s.push(n);return s},_altmetric.exports({array_reduce:n,array_filter:e,array_to_dict:r,array_first:t,array_unique:i})}.call(this),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(){var e,t,n,r;n=_altmetric.log,e=function(e){var t,n;return e!=null?(t=e.match(/(10\.\d{4,5}\/[\S]+[^\.\s])/g))!=null?(n=t[0])!=null?n.trim():void 0:void 0:void 0},r=function(t){var r,i,s;return s=function(){var e,n,i,s,o;i=document.getElementsByTagName("meta"),o=[];for(e=0,n=i.length;e<n;e++)r=i[e],((s=r.getAttribute("name"))!=null?s.toLowerCase():void 0)===t.toLowerCase()&&o.push(r.getAttribute("content"));return o}(),s=function(){var t,n,r;r=[];for(t=0,n=s.length;t<n;t++)i=s[t],i!=null&&e(i)!=null&&r.push(e(i));return r}(),n(s),s.length>0?s[0]:void 0},t=function(e){var t;return(t=r("citation_doi"))?t:(t=r("DC.Identifier"))?t:(t=r("rft_id"))?t:(n("could not find a DOI"),e)},_altmetric.exports({findDOI:t,metaValue:r,extractDOI:e})}.call(this),_altmetric.exports({sources:[{id:1,light_colour:"#74CFED",dark_colour:"#2F90B9",name:"Twitter",code:"t",fetch_api_key:"twitter",tab_label:"Twitter",tab_id:"twitter",user_label_plural:"tweeters",user_label:"tweeter",post_types:["tweet"],position:0,basic_api_key:"tweeters",legend_text:"Tweeted by **COUNT**",cited_counts:["cited_by_tweeters_count"]},{id:2,light_colour:"#FFD140",dark_colour:"#FFC200",name:"Blogs",code:"b",fetch_api_key:"blogs",tab_label:"Blogs",tab_id:"blogs",user_label_plural:"science blogs",user_label:"science blog",post_types:["blog"],position:1,basic_api_key:"feeds",legend_text:"Blogged by **COUNT**",cited_counts:["cited_by_feeds_count"]},{id:3,light_colour:"#2445BD",dark_colour:"#071D70",name:"Facebook",code:"f",fetch_api_key:"facebook",tab_label:"Facebook",tab_id:"facebook",user_label_plural:"Facebook users",user_label:"Facebook user",post_types:["fbwall"],position:2,basic_api_key:"fbwalls",legend_text:"On **COUNT** Facebook page(s)",cited_counts:["cited_by_fbwalls_count"]},{id:4,light_colour:"#E065BB",dark_colour:"#912470",name:"Google+",code:"g",fetch_api_key:"googleplus",tab_label:"Google+",tab_id:"gplus",user_label_plural:"Google+ users",user_label:"Google+ user",post_types:["gplus"],position:3,basic_api_key:"gplus",legend_text:"Mentioned in **COUNT** Google+ post(s)",cited_counts:["cited_by_gplus_count"]},{id:5,light_colour:"#FF0000",dark_colour:"#B60000",name:"News",code:"m",fetch_api_key:"news",tab_label:"News",tab_id:"msm",user_label_plural:"news outlets",user_label:"news outlet",post_types:["msm"],position:4,basic_api_key:"msm",legend_text:"Picked up by **COUNT** news outlet(s)",cited_counts:["cited_by_msm_count"]},{id:6,light_colour:"#1E90FF",dark_colour:"#00BFFF",name:"LinkedIn",code:"l",fetch_api_key:"linkedin",tab_label:"LinkedIn",tab_id:"linkedin",user_label_plural:"LinkedIn users",user_label:"LinkedIn user",post_types:["linkedin"],position:5,basic_api_key:"linkedin",legend_text:"Mentioned in **COUNT** LinkedIn forum(s)",cited_counts:["cited_by_linkedin_count"]},{id:7,light_colour:"#D5E8F0",dark_colour:"#B9DDEB",name:"Reddit",code:"r",fetch_api_key:"reddit",tab_label:"Reddit",tab_id:"reddit",user_label_plural:"Redditors",user_label:"Redditor",post_types:["rdt"],position:6,basic_api_key:"rdts",legend_text:"Reddited by **COUNT**",cited_counts:["cited_by_rdts_count"]},{id:14,light_colour:"#efefef",dark_colour:"#dedede",name:"Peer reviews",code:"e",fetch_api_key:"peer_reviews",tab_label:"Peer reviews",tab_id:"peer_reviews",user_label_plural:"peer review sites",user_label:"peer review site",post_types:["peer_review"],position:7,basic_api_key:"peer_review_sites",legend_text:null,cited_counts:["cited_by_peer_review_sites_count"]},{id:8,light_colour:"#F4006E",dark_colour:"#CB2D2D",name:"F1000",code:"1",fetch_api_key:"f1000",tab_label:"f1000",tab_id:"highlights",user_label_plural:"Highlights &amp; reviews",user_label:"Highlights &amp; review",post_types:["rh","f1000"],position:8,basic_api_key:"f1000",legend_text:"Has a F1000 review",cited_counts:["cited_by_f1000_count","cited_by_rh_count"]},{id:9,light_colour:"#CC6600",dark_colour:"#CC3300",name:"Pinterest",code:"p",fetch_api_key:"pinterest",tab_label:"Pinterest",tab_id:"pinterest",user_label_plural:"Pinners",user_label:"Pinner",post_types:["pinterest"],position:9,basic_api_key:"pinners",legend_text:"Pinned by **COUNT** on Pinterest",cited_counts:["cited_by_pinners_count"]},{id:10,light_colour:"#DEDEDE",dark_colour:"#EFEFEF",name:"QnA",code:"q",fetch_api_key:"q&a",tab_label:"Q&A",tab_id:"qna",user_label_plural:"Q&A threads",user_label:"Q&A thread",post_types:["qna"],position:10,basic_api_key:"qna",legend_text:"Mentioned in **COUNT** Q&A thread(s)",cited_counts:["cited_by_forums_count","cited_by_qna_count","cited_by_qs_count"]},{id:11,light_colour:"#94DB5E",dark_colour:"#98C973",name:"Video",code:"v",fetch_api_key:"video",tab_label:"Video",tab_id:"videos",user_label_plural:"video uploaders",user_label:"video uploader",post_types:["video"],position:11,basic_api_key:"videos",legend_text:"On **COUNT** video(s)",cited_counts:["cited_by_videos_count"]},{id:12,light_colour:"#DEDEDE",dark_colour:"#EFEFEF",name:"Unknown",code:"unknown",fetch_api_key:null,tab_label:"Misc.",tab_id:"misc",user_label_plural:"misc. posts",user_label:"misc. post",post_types:["unknown"],position:12,basic_api_key:null,legend_text:null,cited_counts:["cited_by_unknown_count"]},{id:13,light_colour:"#e7e7e7",dark_colour:"#c7c7c7",name:"Wikipedia",code:"w",fetch_api_key:"wikipedia",tab_label:"Wikipedia",tab_id:"wikipedia",user_label_plural:"Wikipedia pages",user_label:"Wikipedia page",post_types:["wikipedia"],position:13,basic_api_key:"wikipedia",legend_text:null,cited_counts:[]}]}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:i}):(o=t.linkTarget,o=typeof o===u?o.apply(t):o),s+=a(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:i}):(o=t.link,o=typeof o===u?o.apply(t):o),s+=a(o)+'" style="display:inline-block;">\n  <img alt="',(o=n.alt_text)?o=o.call(t,{hash:{},data:i}):(o=t.alt_text,o=typeof o===u?o.apply(t):o),s+=a(o)+'" src="',(o=n.img_src)?o=o.call(t,{hash:{},data:i}):(o=t.img_src,o=typeof o===u?o.apply(t):o),s+=a(o)+'" width="',(o=n.img_width)?o=o.call(t,{hash:{},data:i}):(o=t.img_width,o=typeof o===u?o.apply(t):o),s+=a(o)+'" height="',(o=n.img_height)?o=o.call(t,{hash:{},data:i}):(o=t.img_height,o=typeof o===u?o.apply(t):o),s+=a(o)+'" style="border:0; margin:0; max-width: none;">\n</a>\n',s}),this.HandlebarsTemplates.badge}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge_with_details=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<div style="overflow:hidden;">\n  <div style="float:left; margin:0 20px 0 0;">\n    <a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:i}):(o=t.linkTarget,o=typeof o===u?o.apply(t):o),s+=a(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:i}):(o=t.link,o=typeof o===u?o.apply(t):o),s+=a(o)+'" style="display:inline-block;">\n      <img alt="',(o=n.alt_text)?o=o.call(t,{hash:{},data:i}):(o=t.alt_text,o=typeof o===u?o.apply(t):o),s+=a(o)+'" src="',(o=n.img_src)?o=o.call(t,{hash:{},data:i}):(o=t.img_src,o=typeof o===u?o.apply(t):o),s+=a(o)+'" width="',(o=n.img_width)?o=o.call(t,{hash:{},data:i}):(o=t.img_width,o=typeof o===u?o.apply(t):o),s+=a(o)+'" height="',(o=n.img_height)?o=o.call(t,{hash:{},data:i}):(o=t.img_height,o=typeof o===u?o.apply(t):o),s+=a(o)+'" style="border:0; margin: 0; max-width: none;">\n    </a>\n    <p style="padding-top: 10px; text-align: center;"><a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:i}):(o=t.linkTarget,o=typeof o===u?o.apply(t):o),s+=a(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:i}):(o=t.link,o=typeof o===u?o.apply(t):o),s+=a(o)+'">See more details</a></p>\n  </div>\n  <div id="_altmetric_popover_el" class="altmetric-embed right" style="margin:0; padding:0; display:inline-block; float:left; position:relative;">\n    <div class="altmetric_container" id="_altmetric_container">\n      <div class="altmetric-embed altmetric-popover-inner right" id="_altmetric_popover_inner">\n        <div style="padding:0; margin: 0;" class="altmetric-embed altmetric-popover-content">\n          ',(o=n.contents)?o=o.call(t,{hash:{},data:i}):(o=t.contents,o=typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+="\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n",s}),this.HandlebarsTemplates.badge_with_details}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.badge_with_popover=Handlebars.template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<a target="',(o=n.linkTarget)?o=o.call(t,{hash:{},data:i}):(o=t.linkTarget,o=typeof o===u?o.apply(t):o),s+=a(o)+'" href="',(o=n.link)?o=o.call(t,{hash:{},data:i}):(o=t.link,o=typeof o===u?o.apply(t):o),s+=a(o)+'" rel="popover" data-content="<div>',(o=n.contents)?o=o.call(t,{hash:{},data:i}):(o=t.contents,o=typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+='</div>" style="display:inline-block;" data-badge-popover="',(o=n.position)?o=o.call(t,{hash:{},data:i}):(o=t.position,o=typeof o===u?o.apply(t):o),s+=a(o)+'">\n  <img alt="',(o=n.alt_text)?o=o.call(t,{hash:{},data:i}):(o=t.alt_text,o=typeof o===u?o.apply(t):o),s+=a(o)+'" src="',(o=n.img_src)?o=o.call(t,{hash:{},data:i}):(o=t.img_src,o=typeof o===u?o.apply(t):o),s+=a(o)+'" width="',(o=n.img_width)?o=o.call(t,{hash:{},data:i}):(o=t.img_width,o=typeof o===u?o.apply(t):o),s+=a(o)+'" height="',(o=n.img_height)?o=o.call(t,{hash:{},data:i}):(o=t.img_height,o=typeof o===u?o.apply(t):o),s+=a(o)+'" style="border:0; margin:0; max-width: none;">\n</a>\n',s}),this.HandlebarsTemplates.badge_with_popover}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.legend=Handlebars.template(function(e,t,n,r,i){function p(e,t){var r="",i,s;return r+="\n  <div style='padding-left: 10px; line-height:18px; border-left: 16px solid "+f((i=(i=(i=t,i==null||i===!1?i:i.source),i==null||i===!1?i:i.light_colour),typeof i===a?i.apply(e):i))+";'>",s={hash:{},data:t},r+=f((i=n.legendText||e.legendText,i?i.call(e,(i=(i=t,i==null||i===!1?i:i.source),i==null||i===!1?i:i.legend_text),(i=t,i==null||i===!1?i:i.count),s):l.call(e,"legendText",(i=(i=t,i==null||i===!1?i:i.source),i==null||i===!1?i:i.legend_text),(i=t,i==null||i===!1?i:i.count),s)))+"</div> \n",r}function d(e,t){var r="",i,s,o;r+="\n  <div class='altmetric-embed readers' style='margin-top: 10px;'>\n    <div class='altmetric-embed tip_mendeley' style='padding-left: 10px; line-height:18px; border-left: 16px solid #A60000;'><b>"+f((i=(i=e.readers,i==null||i===!1?i:i.mendeley),typeof i===a?i.apply(e):i))+"</b> ",o={hash:{},data:t},r+=f((i=n.pluralize||e.pluralize,i?i.call(e,(i=e.readers,i==null||i===!1?i:i.mendeley),"reader",o):l.call(e,"pluralize",(i=e.readers,i==null||i===!1?i:i.mendeley),"reader",o)))+" on Mendeley</div>\n    ",s=n["if"].call(e,(i=e.readers,i==null||i===!1?i:i.connotea),{hash:{},inverse:c.noop,fn:c.program(4,v,t),data:t});if(s||s===0)r+=s;return r+="\n    <div class='altmetric-embed tip_citeulike' style='padding-left: 10px; line-height:18px; border-left: 16px solid #BCD2EF;'><b>"+f((i=(i=e.readers,i==null||i===!1?i:i.citeulike),typeof i===a?i.apply(e):i))+"</b> ",o={hash:{},data:t},r+=f((i=n.pluralize||e.pluralize,i?i.call(e,(i=e.readers,i==null||i===!1?i:i.citeulike),"reader",o):l.call(e,"pluralize",(i=e.readers,i==null||i===!1?i:i.citeulike),"reader",o)))+" on CiteULike</div>\n  </div>\n",r}function v(e,t){var r="",i,s;return r+="\n      <div class='altmetric-embed tip_connotea' style='padding-left: 10px; line-height:18px; border-left: 16px solid #FF4040;'><b>"+f((i=(i=e.readers,i==null||i===!1?i:i.connotea),typeof i===a?i.apply(e):i))+"</b> ",s={hash:{},data:t},r+=f((i=n.pluralize||e.pluralize,i?i.call(e,(i=e.readers,i==null||i===!1?i:i.connotea),"reader",s):l.call(e,"pluralize",(i=e.readers,i==null||i===!1?i:i.connotea),"reader",s)))+" on Connotea</div>\n    ",r}function m(e,t){var r="",i;return r+="\n  <div style='margin-top: 10px; text-align: center;'>\n    <a class='altmetric_details' target='",(i=n.linkTarget)?i=i.call(e,{hash:{},data:t}):(i=e.linkTarget,i=typeof i===a?i.apply(e):i),r+=f(i)+"' href='",(i=n.link)?i=i.call(e,{hash:{},data:t}):(i=e.link,i=typeof i===a?i.apply(e):i),r+=f(i)+"'>\n    See more details\n    </a>\n    |\n    <a href='#' class='close-popover'>\n      Close this\n    </a>\n  </div>\n\n  <a class='altmetric_embed close-popover' style='display: block; position: absolute; top: 10px; right: 15px; font-size: 1.2em; font-weight: bold; text-decoration: none; color: black; padding-bottom: 2em; padding-left: 2em;' href='javascript:void(0);'>\n    &times;\n  </a>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u,a="function",f=this.escapeExpression,l=n.helperMissing,c=this,h=n.blockHelperMissing;u={hash:{},inverse:c.noop,fn:c.program(1,p,i),data:i},(o=n.eachSourceWithCount)?o=o.call(t,u):(o=t.eachSourceWithCount,o=typeof o===a?o.apply(t):o),n.eachSourceWithCount||(o=h.call(t,o,u));if(o||o===0)s+=o;s+="\n\n",o=n["if"].call(t,t.readers,{hash:{},inverse:c.noop,fn:c.program(3,d,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t.popover,{hash:{},inverse:c.noop,fn:c.program(6,m,i),data:i});if(o||o===0)s+=o;return s+="\n",s}),this.HandlebarsTemplates.legend}.call(this),function(){var e,t,n=[].slice;e=_altmetric.assert,t=_altmetric.log,Handlebars.registerHelper("pluralize",function(e,t,n){return e===1?t:(n&&n,""+t+"s")}),Handlebars.registerHelper("eachSourceWithCount",function(e){var t,n,r,i;return r=function(){var r,s,o,u;o=_altmetric.sources,u=[];for(r=0,s=o.length;r<s;r++)i=o[r],t="cited_by_"+i.basic_api_key+"_count",t in this?(n=Handlebars.createFrame(e.data||{}),n.source=i,n.count=this[t],u.push(e.fn(this,{data:n}))):u.push(void 0);return u}.call(this),r.join("")}),Handlebars.registerHelper("legendText",function(t,n){var r,i;return e(t!==void 0,"LegendText should not be undefined"),e(n!==void 0,"Count should never be undefined"),i=t.replace(/\*\*(\w+)\*\*/,"<b>$1</b>"),i=i.replace(/COUNT/,n),r=n>0,new Handlebars.SafeString(i.replace(/(\w+)\(s\)/,r?"$1s":"$1"))}),Handlebars.registerHelper("donutImgUrl",function(e){var t;return t=e.hash.size,new Handlebars.SafeString("<img src='"+Handlebars.Utils.escapeExpression(this.donutImageUrl(t*2))+"' width='"+t+"' height='"+t+"'/>")}),Handlebars.registerHelper("log",function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],t.apply(null,e)})}.call(this),function(){var e,t,n,r,i,s,o=function(e,t){return function(){return e.apply(t,arguments)}};i=_altmetric.log,s=_altmetric.qwery,t=_altmetric.bean,n=_altmetric.bonzo,r=_altmetric.array_first,e=function(){function e(e,t){this.badge_element=e,this.hidden=t!=null?t:!0,this.hide=o(this.hide,this),this.show=o(this.show,this),this.pauseShow=o(this.pauseShow,this),this.tapElement=o(this.tapElement,this),this.element=r(s("a[rel=popover]",this.badge_element)),this.element||(this.element=this.badge_element.firstChild),this.contents=this.element.getAttribute("data-content"),this.position=this.element.getAttribute("data-badge-popover"),this.uuid=this.badge_element.getAttribute("data-uuid")}return e.prototype.build=function(){return this.buildPopover(),this.attachEvents()},e.prototype.elementId=function(e){return"_altmetric_popover_"+this.uuid+"_"+e},e.prototype.cssPath=function(){var e;return e="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed-a983e6e8b10c55712ff7cb7a53a0750b.css",i("css_url",e),e},e.prototype.insertCSS=function(){var e,t;if(s("#altmetric-embed-css").length===0)return e=this.cssPath(),i("injecting CSS: "+e),t=document.createElement("link"),t.setAttribute("id","altmetric-embed-css"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),n(s("head")).append(t),t.setAttribute("href",e)},e.prototype.buildPopover=function(){var e,r,o,u,a;return u=s("div.popover",this.badge_element),a=s("div.popover-inner",this.badge_element),u.length>0&&a.length>0?(this.el=u[0],this.inner=a[0]):(i("creating popover for "+this.uuid),this.el=document.createElement("div"),this.el.setAttribute("class","altmetric-embed popover "+this.position),this.el.setAttribute("data-uuid",this.uuid),this.el.setAttribute("id","_altmetric_popover_el"),this.el.style.margin="0px",r=document.createElement("div"),r.setAttribute("class","altmetric_container"),r.setAttribute("id","_altmetric_container"),e=document.createElement("div"),e.setAttribute("class","altmetric_arrow "+this.position),r.appendChild(e),this.inner=document.createElement("div"),this.inner.setAttribute("id","_altmetric_popover_inner"),this.inner.setAttribute("class","altmetric-embed altmetric-popover-inner floating "+this.position),this.inner.setAttribute("data-uuid",this.uuid),o=document.createElement("div"),o.setAttribute("class","altmetric-embed altmetric-popover-content floating"),o.innerHTML=this.contents,this.inner.appendChild(o),r.appendChild(this.inner),this.el.appendChild(r),t.add(s("close-popover",this.inner),"click",this.hide),document.body.appendChild(this.el),n(this.el).show("block").hide())},e.prototype.attachEvents=function(){return t.add(this.element,"mouseover",this.pauseShow),t.add(this.element,"touchstart",this.tapElement),t.add(this.el,"click",this.hide),t.add(this.el,"touchstart",this.hide)},e.prototype.tapElement=function(e){if(this.hidden)return e.stop(),this.pauseShow(e)},e.prototype.pauseShow=function(e){var n=this;return this.hidden=!1,t.add(this.element,"mouseleave.pause",this.hide),setTimeout(function(){return n.show(e)},300)},e.prototype.show=function(e){var r,s,o,u,a,f,l;if(!this.hidden){t.remove(this.element,"mouseleave.pause"),o=n(this.element).offset(),n(this.el).show("block"),s=this.el.offsetWidth,r=this.el.offsetHeight,f=o.top,a=o.left,l=o.width,u=o.height;switch(this.position){case"right":this.el.style.top=""+(f+u/2-r/2)+"px",this.el.style.left=""+(a+l)+"px";break;case"left":this.el.style.top=""+(f+u/2-r/2)+"px",this.el.style.left=""+(a-s)+"px";break;case"top":this.el.style.top=""+(f-r)+"px",this.el.style.left=""+(a+l/2-s/2)+"px";break;case"bottom":this.el.style.top=""+(f+u)+"px",this.el.style.left=""+(a+l/2-s/2)+"px"}return i("actualHeight: "+r+", actualWidth: "+s+", relTop: "+f+", relLeft: "+a+", relWidth: "+l+", relHeight: "+u+", top: "+this.el.style.top+", left: "+this.el.style.left)}},e.prototype.hide=function(e){if(e.target.className!=="altmetric_details")return e.stop(),n(this.el).hide(),this.hidden=!0},e}(),_altmetric.exports({Popover:e})}.call(this),function(){var e,t;t=_altmetric.log,e=function(e,t){var n;return n=e.images.small,t=Math.min(t,320),n.replace(/size=\d+/,"size="+t)},_altmetric.exports({donut_url:e})}.call(this),function(){var e,t,n,r,i,s,o;s=_altmetric.log,i=_altmetric.errorLog,o=_altmetric.qwery,t=_altmetric.bowser,e=function(){function e(e){var t,n;this.element=e,this.setUUID(),this.api_version="v1",this.classes=this.element.className.split(" "),this.altmetric_id=this.getAltmetricId(),this.doi=this.getDoi(),this.arxiv_id=this.getArxivId(),this.pubmed_id=this.getPubmedId(),this.handle_id=this.getHandle(),this.hideNoMentions=((n=this.getProperty("hide-no-mentions"))!=null?n.toLowerCase():void 0)==="true",this.dataBadgeType=this.getProperty("badge-type"),this.popoverPosition=this.getProperty("badge-popover"),this.detailsPosition=this.getProperty("badge-details"),this.linkTarget=this.getProperty("link-target")||"_self",this.badge_cdn="https://d1uo4w7k31k5mn.cloudfront.net",this.api_key="3c130976ca2b8f2e88f8377633751ba1",t=new Date,this.cache_breaker="cache_until="+t.getHours()+"-"+t.getDate(),this.badgeSizes={v1:{width:"110",height:"20"},v2:{width:"88",height:"18"},v3:{width:"99",height:"18"},v4:{width:"85",height:"15"},donut:{width:"64",height:"64"},medium_donut:{width:"120",height:"120"},large_donut:{width:"180",height:"180"}}}return e.prototype.getClassProperty=function(e){var t,n,r,i;t="altmetric-"+e,i=function(){var e,r,i,s;i=this.classes,s=[];for(e=0,r=i.length;e<r;e++)n=i[e],n.indexOf(t)===0&&s.push(n.replace(/\s+/g,""));return s}.call(this),r=_altmetric.array_first(i);if(r)return r.substring(t.length+1)},e.prototype.getProperty=function(e){return this.element.getAttribute("data-"+e)||this.getClassProperty(e)},e.prototype.badgeType=function(){return this.dataBadgeType!=null?this.dataBadgeType.match(/\d+/)?"v"+this.dataBadgeType:this.dataBadgeType.match(/donut/)?this.dataBadgeType.replace("-","_"):"v2":"v2"},e.prototype.badgePath=function(){return this.badgeType().match(/donut/)?"donut":this.badgeType()},e.prototype.setUUID=function(){var e;return e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},this.uuid=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),this.element.setAttribute("data-uuid",this.uuid)},e.prototype.getDoi=function(){var e;return _altmetric.extractDOI((e=this.getProperty("doi"))!=null?e.toLowerCase():void 0)||this.getProperty("doi")},e.prototype.getArxivId=function(){var e,t;return(e=this.getProperty("arxiv-id"))!=null?(t=e.match(/([^\:]*)$/g))!=null?t[0]:void 0:void 0},e.prototype.getAltmetricId=function(){return this.getProperty("altmetric-id")},e.prototype.getPubmedId=function(){return this.getProperty("pmid")},e.prototype.getHandle=function(){var e;return(e=this.getProperty("handle"))!=null?e.toLowerCase():void 0},e.prototype.badgeId=function(){var e;return e=this.altmetric_id||this.doi||this.arxiv_id||this.pubmed_id||this.handle_id,e?e:this.doi=_altmetric.findDOI(void 0)},e.prototype.prepareBadge=function(){var e,t,n,r;return t=document.createElement("a"),r=this.badgeSizes[this.badgeType()].width,e=this.badgeSizes[this.badgeType()].height,this.hideNoMentions||(t.style.cursor="pointer",t.style.display="inline-block",this.badgePath()==="donut"?t.style.backgroundImage="url(https://altmetric-badges.a.ssl.fastly.net/?size="+r+"&score=?&types=????????)":t.style.backgroundImage="url("+this.badge_cdn+"/"+this.badgePath()+"/0.png)",t.style.width=""+r+"px",t.style.height=""+e+"px"),t.setAttribute("href","http://www.altmetric.com/details.php?domain="+document.domain+"&doi="+this.doi),t.setAttribute("target",this.linkTarget),t.appendChild(document.createTextNode(" ")),n=document.createElement("div"),n.appendChild(t),this.element.innerHTML=n.innerHTML,this.fetchData()},e.prototype.apiCall=function(){if(this.altmetric_id)return"id/"+this.altmetric_id;if(this.doi)return"doi/"+this.doi;if(this.arxiv_id)return"arxiv/"+this.arxiv_id;if(this.pubmed_id)return"pmid/"+this.pubmed_id;if(this.handle_id)return"handle/"+this.handle_id},e.prototype.fetchData=function(){var e,t,n=this;return t="https://api.altmetric.com/"+this.api_version+"/"+this.apiCall()+"?callback=_altmetric.embed_callback&domain="+document.domain+"&key="+this.api_key+"&"+this.cache_breaker,e=document.createElement("script"),e.setAttribute("type","text/javascript"),e.onerror=function(e){return s("Error fetching JSONP details for "+n.badgeId()),s(e)},document.body.appendChild(e),e.setAttribute("src",t)},e.prototype.createBadge=function(e){var t,n,r,i,s;this.altmetric_info=e,this.score=Math.ceil(this.altmetric_info.score),this.altmetric_id=this.altmetric_info.altmetric_id,this.altmetric_link="http://www.altmetric.com/details.php?domain="+document.domain+"&citation_id="+this.altmetric_id,i="badge",s=this.badgeSizes[this.badgeType()].width,r=this.badgeSizes[this.badgeType()].height,n={link:this.altmetric_link,img_width:""+s+"px",img_height:""+r+"px",img_src:""+this.badge_cdn+"/"+this.badgePath()+"/"+this.score+".png",alt_text:"Article has an altmetric score of "+this.score,linkTarget:this.linkTarget},this.popoverPosition?(n.contents=this.articleDetails(!0),n.position=this.popoverPosition,i="badge_with_popover"):this.detailsPosition&&(n.contents=this.articleDetails(!1),n.position=this.detailsPosition,i="badge_with_details"),this.badgePath()==="donut"&&(n.img_src=_altmetric.donut_url(this.altmetric_info,s*2)),t=HandlebarsTemplates[i](n),this.element.innerHTML=t,this.popover=new _altmetric.Popover(this.element),this.popover.insertCSS();if(this.popoverPosition&&this.renderPopover())return this.popover.build()},e.prototype.renderPopover=function(){return!t.msie||t.msie&&t.version>7},e.prototype.articleDetails=function(e){return this.altmetric_info.link=this.altmetric_link,this.altmetric_info.popover=e,this.altmetric_info.linkTarget=this.linkTarget,HandlebarsTemplates.legend(this.altmetric_info)},e}(),n=function(e){var t,n,r,o,u,a,f,l,c,h;try{o=[e.altmetric_id,e.pmid,e.arxiv_id,(l=e.handle)!=null?l.toLowerCase():void 0,(c=e.doi)!=null?c.toLowerCase():void 0],u=function(){var e,t,n;n=[];for(e=0,t=o.length;e<t;e++)r=o[e],r&&r in _altmetric.badges&&n.push(_altmetric.badges[r]);return n}();if(u.length>0){h=[];for(a=0,f=u.length;a<f;a++)n=u[a],h.push(function(){var r,i,s;s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push(t.createBadge(e));return s}());return h}return s("No matching badges for "+o)}catch(p){return i(p.message||p.description),_altmetric.bugsnag.notifyException(p)}},r=function(){var t,n,r,u,a,f,l,c,h,p;try{n=function(){var n,i,s,u;s=function(){var t,n,i,s;i=o(".altmetric-embed"),s=[];for(t=0,n=i.length;t<n;t++)r=i[t],s.push(new e(r));return s}(),u=[];for(n=0,i=s.length;n<i;n++)t=s[n],t.badgeId()!=null&&u.push(t);return u}();for(a=0,l=n.length;a<l;a++)t=n[a],(u=_altmetric.badges)[h=t.badgeId()]||(u[h]=[]),_altmetric.badges[t.badgeId()].push(t);s(_altmetric.badges),p=[];for(f=0,c=n.length;f<c;f++)t=n[f],p.push(t.prepareBadge());return p}catch(d){return i(d.message||d.description),_altmetric.bugsnag.notifyException(d)}},_altmetric.exports({Badge:e,embed_init:r,badges:{},embed_callback:n})}.call(this),!function(e,t){typeof module!="undefined"?module.exports=t():_altmetric[e]=t()}("domready",function(e){function p(e){h=1;while(e=t.shift())e()}var t=[],n,r=!1,i=document,s=i.documentElement,o=s.doScroll,u="DOMContentLoaded",a="addEventListener",f="onreadystatechange",l="readyState",c=o?/^loaded|^c/:/^loaded|c/,h=c.test(i[l]);return i[a]&&i[a](u,n=function(){i.removeEventListener(u,n,r),p()},r),o&&i.attachEvent(f,n=function(){/^c/.test(i[l])&&(i.detachEvent(f,n),p())}),e=o?function(n){self!=top?h?n():t.push(n):function(){try{s.doScroll("left")}catch(t){return setTimeout(function(){e(n)},50)}n()}()}:function(e){h?e():t.push(e)}}),function(e){var t=window.Bugsnag;window.Bugsnag=e(window,document,navigator,t)}(function(e,t,n,r){function p(t){var n=e.console;n!==undefined&&n.log!==undefined&&n.log("[Bugsnag] "+t)}function d(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&r!=null&&e[r]!=null){var i=t?t+"["+r+"]":r,s=e[r];n.push(typeof s=="object"?d(s,i):encodeURIComponent(i)+"="+encodeURIComponent(s))}return n.join("&")}function v(e,t){if(t==null)return e;e=e||{};for(var n in t)if(t.hasOwnProperty(n))try{t[n].constructor===Object?e[n]=v(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e}function m(e,t){if(!i.testRequest){var n=new Image;n.src=e+"?"+d(t)+"&ct=img&cb="+(new Date).getTime()}else i.testRequest(e,t)}function g(e){var t={},n=/^data\-([\w\-]+)$/,r=e.attributes;for(var i=0;i<r.length;i++){var s=r[i];if(n.test(s.nodeName)){var o=s.nodeName.match(n)[1];t[o]=s.nodeValue}}return t}function b(e,t){y=y||g(h);var n=i[e]!==undefined?i[e]:y[e.toLowerCase()];return n==="false"&&(n=!1),n!==undefined?n:t}function w(e){return e==null||!e.match(s)?(p("Invalid API key '"+e+"'"),!1):!0}function E(t,r){var s=b("apiKey");if(!w(s))return;var o=b("releaseStage"),u=b("notifyReleaseStages");if(u){var f=!1;for(var c=0;c<u.length;c++)if(o===u[c]){f=!0;break}if(!f)return}var h=v(b("metaData"),r),p=i.beforeNotify;if(typeof p=="function"){var d=p(t,h);if(d===!1)return}var g=e.location;m(b("endpoint")||a,{notifierVersion:l,apiKey:s,projectRoot:b("projectRoot")||g.protocol+"//"+g.host,context:b("context")||g.pathname,userId:b("userId"),metaData:h,releaseStage:o,url:e.location.href,userAgent:n.userAgent,language:n.language||n.userLanguage,name:t.name,message:t.message,stacktrace:t.stacktrace,file:t.file,lineNumber:t.lineNumber,columnNumber:t.columnNumber})}function S(){var e,t=10,n="[anonymous]";try{throw new Error("")}catch(r){e=x(r)}if(!e){var i=[],s=arguments.callee.caller.caller;while(s&&i.length<t){var u=o.test(s.toString())?RegExp.$1||n:n;i.push(u),s=s.caller}e=i.join("\n")}return e}function x(e){return e.stack||e.backtrace||e.stacktrace}function T(){var e=b("metrics"),t=b("apiKey");if(e!==!0&&e!=="true"||!w(t))return;var n="bugsnag_"+t,r=L(n);r==null&&(r=C(),k(n,r,1e3,!0)),m(b("metricsEndpoint")||f,{userId:r,apiKey:t})}function N(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function C(){return N()+N()+"-"+N()+"-"+N()+"-"+N()+"-"+N()+N()+N()}function k(n,r,i,s){var o="",u="";if(i){var a=new Date;a.setTime(a.getTime()+i*24*60*60*1e3),u="; expires="+a.toGMTString()}if(s){var f=e.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),l=f?f[0]:"";o=l?"; domain=."+l:""}t.cookie=n+"="+encodeURIComponent(r)+u+"; path=/"+o}function L(e){var n=t.cookie.match(e+"=([^$;]+)");return n?decodeURIComponent(n[1]):null}var i={};i.noConflict=function(){return e.Bugsnag=r,i},i.notifyException=function(e,t,n){typeof t!="string"&&(n=t),E({name:t||e.name,message
:e.message||e.description,stacktrace:x(e)||S(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line},n)},i.notify=function(e,t,n){E({name:e,message:t,stacktrace:S()},n)},i._onerror=e.onerror,e.onerror=function(e,t,n,r,s){var o=b("autoNotify",!0);o&&e==="Script error."&&t===""&&n===0&&(p("Error on cross-domain script, couldn't notify Bugsnag."),o=!1),o&&E({name:"window.onerror",message:e,file:t,lineNumber:n,columnNumber:r,stacktrace:s&&x(s)}),i._onerror&&i._onerror(e,t,n)};var s=/^[0-9a-f]{32}$/i,o=/function\s*([\w\-$]+)?\s*\(/i,u="https://notify.bugsnag.com/",a=u+"js",f=u+"metrics",l="1.0.10",c=t.getElementsByTagName("script"),h=c[c.length-1],y;return T(),i}),_altmetric.bugsnag=Bugsnag.noConflict(),_altmetric.bugsnag.autoNotify=!1,_altmetric.bugsnag.releaseStage="production",_altmetric.bugsnag.notifyReleaseStages=["production","staging"],_altmetric.bugsnag.apiKey="daca05de9b5d741310b8b3308bdda3df",_altmetric_embed_init=_altmetric.embed_init,_altmetric.domready(function(){_altmetric.embed_init()});